# Coordinator Configuration for Docker Deployment

# Dataset configuration
dataset:
  # Paths are relative to container mount points
  base_path: "/app/data/sift_base.fvecs"
  query_path: "/app/data/sift_query.fvecs"

# Simulation configuration
sim_config:
  # Maximum number of peers per worker
  max_peers: 1000

  # Region identifier for GCP deployment
  region: "us-central1"

  protean_config:
    # Timeout for all things inside a protean
    timeout: 500

    # Max queries at one time
    max_concurrent_queries: 3
    
    # SNV (Sparse Neighbor View) configuration
    snv_config:
      # Maximum concurrent operations
      concurrency_limit: 5

      # Occlusion threshold for neighbor selection (0.0 - 1.0)
      occlusion_threshold: 0.5

      # Drift detection threshold (0.0 - 1.0)
      drift_threshold: 0.1

      # Target degree ratio for graph density
      target_degree_ratio: 2.0

      # Dynamism threshold for triggering maintenance
      dynamism_threshold: 0.3

      # Maximum interval between exploration rounds (seconds)
      max_exploration_interval_secs: 60

      # Exploration configuration
      exploration_config:
        # K value for convergence phase
        converge_k: 50

        # Configuration for convergence queries
        converge_config:
          search_list_size: 50
          concurrency_limit: 5
          share_floor: 3

        # K value for exploration phase (0 = disabled)
        explore_k: 0

        # Configuration for exploration queries
        explore_config:
          search_list_size: 0
          concurrency_limit: 3
          share_floor: 2

# Output directory for results (mounted volume)
output_dir: "/app/output"

# Coordinator gRPC server bind address (listen on all interfaces in container)
coordinator_bind_address: "0.0.0.0:50050"
